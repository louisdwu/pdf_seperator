# PDF 书籍自动分割工具

根据 PDF 内部的电子目录（书签），自动将一本完整的 PDF 书籍拆分为多个独立文件。

## 功能特点

- **自动识别章节**：读取 PDF 内嵌的目录（书签）结构
- **智能分割**：
  - 前导部分：封面、前言、目录页等
  - 正文章节：按一级目录拆分，每章一个文件
  - 自动处理文件名中的非法字符
- **图形界面**：简洁易用的操作界面
- **预览功能**：分割前可预览将生成的文件列表
- **进度显示**：实时显示分割进度

## 系统要求

- Python 3.10 或更高版本
- Windows / macOS / Linux

## 安装

1. 克隆或下载本项目：
```bash
git clone <repository_url>
cd pdf_seperator
```

2. 安装依赖：
```bash
pip install -r requirements.txt
```

## 使用方法

### 图形界面模式

运行主程序：
```bash
python main.py
```

操作步骤：
1. 点击 **"浏览..."** 选择要分割的 PDF 文件
2. 确认或修改输出目录（默认为 PDF 同目录下的 `<文件名>_分割` 文件夹）
3. 点击 **"分析目录"** 预览分割方案
4. 确认无误后点击 **"开始分割"**
5. 等待处理完成，可选择打开输出目录查看结果

### 命令行模式（仅预览）

可以直接运行核心模块查看 PDF 目录结构：
```bash
python -m src.pdf_splitter <PDF文件路径>
```

## 输出文件命名规则

- `00_前导部分.pdf` - 封面、目录等
- `01_<第一章标题>.pdf` - 第一章内容
- `02_<第二章标题>.pdf` - 第二章内容
- ... 依次类推

## 注意事项

1. **需要电子目录**：本工具依赖 PDF 内嵌的书签（目录），扫描版或无目录的 PDF 无法正确识别章节
2. **一级目录分割**：默认按一级目录进行分割，子章节会包含在父章节文件中
3. **文件名处理**：章节标题中的非法字符（如 `<>:"/\|?*`）会被自动替换为下划线

## 项目结构

```
pdf_seperator/
├── src/
│   ├── __init__.py       # 包初始化
│   ├── pdf_splitter.py   # 核心 PDF 处理逻辑
│   └── gui.py            # 图形用户界面
├── main.py               # 启动入口
├── requirements.txt      # 依赖列表
└── README.md             # 说明文档
```

## 技术栈

- **PDF 处理**：[PyMuPDF](https://pymupdf.readthedocs.io/) (fitz)
- **图形界面**：tkinter (Python 标准库)

## 许可证

MIT License